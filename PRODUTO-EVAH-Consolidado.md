# üì¶ PRODUTO EVAH/AIVAH - Informa√ß√µes Consolidadas

> **Objetivo:** Este documento consolida todas as informa√ß√µes sobre o produto EVAH/AIVAH (assistente virtual) extra√≠das dos arquivos do projeto.

---

## üéØ 1. DEFINI√á√ÉO E CONCEITO DO PRODUTO

### 1.1 Nome e Identidade
- **Nome T√©cnico:** AIVAH (Assistente Inteligente de Vendas Automatizado para Humanos)
- **Nome Comercial:** EVAH (Ecossistema de Valor Automatizado para Humanos)
- **Apresenta√ß√£o ao Cliente:** Pode variar (ex: BiraBot para Bira Ve√≠culos)
- **Framework Base:** VIAH (Vendas Inteligentes Automatizadas para Humanos)

### 1.2 Vis√£o Geral
O **EVAH/AIVAH** √© a camada central de intelig√™ncia da plataforma **VIAH**. Vai al√©m de uma assistente conversacional: integra m√≥dulos, conecta sistemas, automatiza fluxos e coordena opera√ß√µes em um ponto √∫nico entre **VIAH ERP**, automa√ß√µes e servi√ßos externos.

**Principais Caracter√≠sticas:**
- Consolida informa√ß√µes
- Organiza processos
- Antecipa necessidades
- Atua como suporte inteligente (n√£o substitui o operador humano)
- Acelera rotinas
- Mant√©m tudo alinhado para que o time foque no que realmente exige an√°lise, decis√£o e relacionamento

### 1.3 Posicionamento no Ecossistema VIAH
- **VIAH** = Framework modular completo
- **EVAH/AIVAH** = Assistente conversacional inteligente (produto principal)
- Pode ser usado como m√≥dulo do VIAH ou como solu√ß√£o independente

---

## üîß 2. FUNCIONALIDADES E CAPACIDADES

### 2.1 Integra√ß√£o Multicanal
**Canais Suportados:**
- WhatsApp
- Instagram
- Facebook Messenger
- Telegram
- WebChat do site
- Qualquer canal que o cliente queira integrar

**Capacidades:**
- Centraliza√ß√£o de mensagens de todos os canais
- Execu√ß√£o de fluxos automatizados consistentes
- Encaminhamento para atendentes humanos quando necess√°rio
- Integra√ß√£o com processos internos e automa√ß√µes do neg√≥cio
- Atendimento integrado e consistente em todos os canais

### 2.2 Atendimento com Intelig√™ncia Artificial
**Provedores de IA Suportados:**
- OpenAI (ChatGPT)
- Google Gemini
- IBM Watson

**Capacidades:**
- Gera√ß√£o de respostas contextualizadas e naturais
- An√°lise de sentimentos em tempo real
- Interpreta√ß√£o de diferentes tipos de dados (estruturados e n√£o estruturados)
- Automa√ß√£o din√¢mica de processos dentro da conversa
- Entender e interpretar consultas abertas e variadas
- Gerar respostas contextuais e personalizadas
- Executar decis√µes e acionar automa√ß√µes conforme regras de neg√≥cio
- Encaminhar para atendimento humano quando necess√°rio
- Redirecionar para atendimento guiado quando apropriado

### 2.3 Atendimento Guiado
**Funcionalidades:**
- Conduz o cliente por fluxos personalizados
- Coleta informa√ß√µes de forma organizada
- Realiza valida√ß√µes durante a intera√ß√£o
- Preenche agendas automaticamente
- Executa automa√ß√µes essenciais ao atendimento
- Ideal para formul√°rios, fichas e coletas de informa√ß√µes
- Adapta fluxos conversacionais conforme necessidade da empresa
- Coleta inteligente de dados em tempo real
- Integra√ß√£o com agendas e processos internos

**Casos de Uso:**
- Triagem automatizada
- Coleta de cadastros e prefer√™ncias
- Consultas de estoque, status de pedidos, agendamentos
- Agendamentos automatizados com controle de hor√°rios

### 2.4 Consultas via Web Scraping
**Capacidades:**
- Acessa p√°ginas externas e extrai dados em tempo real
- Coleta pre√ßos, prazos, status ou disponibilidade de servi√ßos
- Extra√ß√£o de informa√ß√µes de sites e portais
- Integra√ß√£o direta √†s automa√ß√µes do atendimento
- Dados externos transformados em respostas imediatas
- Enriquecimento do atendimento com dados externos confi√°veis

**Exemplos:**
- Consulta de an√∫ncios (OLX, Webmotors, etc.)
- Extra√ß√£o de dados de links enviados pelo cliente

### 2.5 Transcri√ß√µes de √Åudio para Texto
**Funcionalidades:**
- Recebe mensagens de voz em canais compat√≠veis
- Transforma √°udio em texto automaticamente
- Permite interpreta√ß√£o e processamento do conte√∫do
- Suporte a m√∫ltiplos canais de comunica√ß√£o
- Armazenamento seguro das mensagens para consultas futuras
- Facilita intera√ß√£o sem depender de digita√ß√£o manual

**Tecnologias:**
- Whisper API ou OpenAI para transcri√ß√£o

### 2.6 Consultas na Tabela FIPE
**Funcionalidades:**
- Busca informa√ß√µes atualizadas diretamente da Tabela FIPE
- Oferece dados precisos para negocia√ß√µes automotivas
- Suporte a consultas r√°pidas durante o atendimento
- Integra√ß√£o com fluxos de vendas e negocia√ß√µes
- Informa√ß√£o confi√°vel para decis√µes comerciais

### 2.7 Agendamentos via Google Calendar
**Funcionalidades:**
- Sincroniza e gerencia eventos diretamente no Google Calendar
- Cria√ß√£o autom√°tica de eventos
- Consulta r√°pida de hor√°rios dispon√≠veis
- Notifica√ß√µes integradas para clientes e equipe
- Integra√ß√£o direta com fluxos de atendimento e processos internos
- Evita conflitos de hor√°rios
- Garante registro e acompanhamento de compromissos

---

## ü§ñ 3. AGENTES E M√ìDULOS ESPECIALIZADOS

### 3.1 Agente CRM
**Funcionalidades Principais:**
- Captura autom√°tica de leads no primeiro contato
- Verifica√ß√£o de duplicidade por e-mail ou telefone
- Identifica√ß√£o autom√°tica e enriquecimento de dados do lead
- Cria√ß√£o, atualiza√ß√£o e gest√£o autom√°tica de leads no CRM (Odoo)
- Classifica√ß√£o autom√°tica por prioridade e inten√ß√£o de compra
- Status: Quente, Morno, Frio, Em Atendimento
- Execu√ß√£o de campanhas segmentadas (follow-ups, mensagens autom√°ticas)
- Roteamento inteligente de leads qualificados para atendimento humano
- Gera√ß√£o de relat√≥rios e dashboards
- Atualiza√ß√£o instant√¢nea da interface do Odoo

**Funcionalidades Opcionais:**
- Agendamento autom√°tico de compromissos
- Pontua√ß√£o autom√°tica de leads (lead scoring)
- Integra√ß√£o com qualquer CRM via API

### 3.2 Agente Calendar
**Funcionalidades:**
- Agendar eventos no Google Calendar
- Atualizar compromissos
- Remarcar eventos
- Cancelar eventos
- Consultar agenda e verificar disponibilidade
- Enviar lembretes e solicita√ß√µes de confirma√ß√£o
- Valida√ß√£o de hor√°rios (evitar conflitos)

### 3.3 Agente de Transcri√ß√£o (Texto ‚Üî √Åudio)
**Funcionalidades:**
- Converter texto em √°udio (para envio de √°udios pelo WhatsApp)
- Converter √°udio em texto (para processamento)
- Suporte a m√∫ltiplos canais

### 3.4 Agente de Consulta SQL Odoo
**Funcionalidades:**
- Consultar produtos na base de dados do Odoo
- Consultar informa√ß√µes de clientes
- Consultar pedidos e status
- Integra√ß√£o direta com ERP

### 3.5 Agente de Detalhes do Produto
**Funcionalidades:**
- Mostrar detalhes completos de produtos/servi√ßos
- Consultar m√≠dias dos produtos do Odoo
- Apresentar informa√ß√µes enriquecidas (ve√≠culos, servi√ßos, etc.)

### 3.6 Agente Gateway de Pagamento
**Funcionalidades:**
- Permitir pagamentos via API Gateway
- Integra√ß√£o com gateways de pagamento
- Processamento de transa√ß√µes

### 3.7 Agente M√≠dias pelo WhatsApp
**Funcionalidades:**
- Enviar m√≠dias (√°udio, imagem e v√≠deo) pelo WhatsApp
- Receber e processar m√≠dias enviadas pelo cliente

### 3.8 Agente Obter Localiza√ß√£o pelo CEP
**Funcionalidades:**
- Solicitar CEP ao cliente
- Detectar localiza√ß√£o pelo Google Maps
- Usar localiza√ß√£o para personaliza√ß√£o de atendimento

### 3.9 Agente Qualificar Lead
**Funcionalidades:**
- Criar lead automaticamente
- Qualificar lead com base em intera√ß√µes
- Classificar por interesse e potencial

### 3.10 Agente Adaptar ao Neg√≥cio do Cliente
**Funcionalidades:**
- Adaptar-se √† realidade do neg√≥cio do cliente
- Personalizar fluxos conforme segmento
- Ajustar linguagem e abordagem

---

## üèóÔ∏è 4. ARQUITETURA E TECNOLOGIAS

### 4.1 Stack Tecnol√≥gico
**Orquestra√ß√£o:**
- **n8n** - Automa√ß√£o e orquestra√ß√£o de fluxos

**Mem√≥ria e Contexto:**
- **Zep** - Mem√≥ria conversacional e hist√≥rico

**IA e Processamento:**
- **OpenAI (ChatGPT)** - Processamento de linguagem natural
- **Google Gemini** - IA alternativa
- **IBM Watson** - IA alternativa
- **Whisper API** - Transcri√ß√£o de voz

**Integra√ß√µes:**
- **Evolution API** - Integra√ß√£o WhatsApp
- **Meta API** - WhatsApp, Messenger, Instagram
- **Telegram API**
- **Google Calendar API**
- **Odoo ERP** - CRM e gest√£o

**Infraestrutura:**
- **Docker Swarm ou Kubernetes** - Orquestra√ß√£o
- **PostgreSQL** - Banco de dados
- **MinIO ou S3** - Armazenamento de arquivos
- **Node.js ou Python** - Backend

### 4.2 Arquitetura Modular no N8N
**Fluxo Geral:**
1. **1_Main_EntradaMensagem** - Entrada de texto, √°udio ou imagem
2. **2_TratamentoMensagem** - Converte √°udio, texto, imagem em texto limpo
3. **3_Orquestrador** - Detecta a inten√ß√£o do cliente
4. **4_RoteadorDeAgentes** - Direciona para o agente correto
5. **Agentes Espec√≠ficos:**
   - 5_AgenteBoasVindas
   - 6_AgenteConsultaVeiculos
   - 7_AgenteWebScraping
   - 8_AgenteAgendamento
   - 9_AgenteCRM
   - 10_AgenteDesconhecido (Fallback)

### 4.3 Camadas da Arquitetura
1. **Camada de Entrada (Front-End de Comunica√ß√£o)**
   - WhatsApp, Webchat (VIAH Chat)
   
2. **Camada de Intelig√™ncia**
   - VIAH Chat (Typebot) - Interface guiada
   - VIAH AIVAH - Assistente de IA
   
3. **Camada de Automa√ß√µes**
   - VIAH Conductor (n8n) - Executa l√≥gicas de neg√≥cio
   - VIAH Connect - Ponte entre canais externos e m√≥dulos internos
   
4. **Camada de Backend e Gest√£o**
   - VIAH Omni (Chatwoot) - Atendentes humanos
   - VIAH ERP (Odoo) - Registro e gest√£o

---

## üéØ 5. CASOS DE USO E OBJETIVOS

### 5.1 Objetivos do Assistente
**Comunica√ß√£o Inicial:**
- Detectar e responder sauda√ß√µes
- Apresentar-se e explicar fun√ß√£o

**Coleta de Interesse:**
- Identificar tipo de produto/servi√ßo desejado
- Extrair informa√ß√µes espec√≠ficas (marca, modelo, tipo, ano, pre√ßo, etc.)

**Consulta de Produtos:**
- Integrar com banco de dados
- Apresentar resultados baseados em filtros

**Registro e Qualifica√ß√£o de Lead:**
- Criar lead no in√≠cio do atendimento
- Atualizar lead conforme mais dados s√£o fornecidos
- Integrar com CRM Odoo

**Agendamento:**
- Perguntar disponibilidade do cliente
- Registrar data e hora sugerida
- (Futuramente) integrar com agenda de vendedores

**Interpreta√ß√£o Multim√≠dia:**
- **√Åudio:** Transcrever voz em texto
- **Imagem:** Extrair dados visuais, consultar produtos semelhantes
- **Link:** Extrair dados de an√∫ncios, realizar consulta no banco

**Mem√≥ria e Contexto:**
- Usar mem√≥ria (Zep) para manter hist√≥rico
- Entender contexto conversacional
- Exemplo: "Quero um carro de 2022" + "quero que seja SUV" ‚Üí entender busca completa

### 5.2 Dores que o EVAH Resolve

**Problemas Operacionais:**
- Tempo de resposta lento
- Sobrecarga da equipe de atendimento
- Dificuldade em atender fora do hor√°rio comercial
- Alto custo com equipe de suporte
- Baixa escalabilidade

**Problemas de Experi√™ncia do Cliente:**
- Frustra√ß√£o do cliente (demora, falta de agilidade)
- Perda de oportunidades de venda
- Atendimento inconsistente
- Falta de personaliza√ß√£o
- Menor conveni√™ncia

**Problemas Estrat√©gicos:**
- Menor competitividade
- Falta de dados sobre clientes
- Dificuldade em nutrir leads
- Imagem antiquada da empresa
- Menor fideliza√ß√£o

---

## üìã 6. REQUISITOS E PR√â-REQUISITOS

### 6.1 Infraestrutura
- Servidor Linux (Docker Swarm ou Kubernetes)
- Banco de dados PostgreSQL
- Armazenamento de arquivos (MinIO ou S3)

### 6.2 Ferramentas Principais
- n8n instalado e configurado
- IA (LLM): GPT-5 API ou modelo local (Llama 3, Mistral)
- Node.js ou Python para backend

### 6.3 Integra√ß√µes Obrigat√≥rias
- APIs de comunica√ß√£o (Meta API, Evolution API, Telegram)
- CRM (Odoo, HubSpot, Pipedrive)
- Provedores de envio de mensagens (SMTP, Twilio, Z-API)

### 6.4 Credenciais Necess√°rias
- Google Cloud (para Google Calendar API)
- OpenAI (API Key)
- OAuth 2.0 Client ID (Google Calendar)
- Credenciais de APIs de comunica√ß√£o

---

## üöÄ 7. MVP E DESENVOLVIMENTO

### 7.1 Funcionalidades MVP
**Priorit√°rias:**
- Gest√£o m√≠nima de leads
- Fluxo completo de atendimento
- Notifica√ß√µes b√°sicas (som, push, e-mail)
- Integra√ß√£o com WhatsApp
- Atendimento guiado b√°sico
- Integra√ß√£o com Odoo CRM

**Agentes Essenciais para MVP:**
- Agente Transcri√ß√£o de mensagens (texto ‚Üî √°udio)
- Agente CRM
- Agente Calendar
- Fluxo de atendimento guiado para coleta de dados

### 7.2 Melhorias e Corre√ß√µes Necess√°rias
- Quando √© mandado um texto em duas linhas, d√° falha (interpreta errado)
- Quando o cliente manda texto com "aspas" d√° erro no agente de transcri√ß√£o
- Precisa ter ferramenta que fa√ßa tratamento da mensagem antes de passar para os agentes
- Reorganizar os sub-agentes para atendimento
- Configurar mem√≥ria RAG na EVAH

### 7.3 Funcionalidades Futuras
- Assistente espec√≠fico para o logista (empresa) para gerenciar √°reas da empresa via agente
- Integra√ß√£o com agenda de vendedores
- Melhorias em interpreta√ß√£o de imagens
- Expans√£o de integra√ß√µes

---

## üìä 8. M√âTRICAS E MONITORAMENTO

### 8.1 M√©tricas de Desempenho
- N√∫mero de leads por canal
- Taxa de convers√£o
- Leads quentes vs frios
- Performance de campanhas
- Tempo de resposta
- Taxa de resolu√ß√£o autom√°tica

### 8.2 Dashboards e Relat√≥rios
- Relat√≥rios de performance
- Acompanhamento de convers√£o
- Status dos leads
- M√©tricas de atendimento
- Alertas para leads de alta prioridade

---

## üîÑ 9. INTEGRA√á√ïES COM OUTROS M√ìDULOS VIAH

### 9.1 VIAH ERP (Odoo)
- Integra√ß√£o nativa para consulta de produtos
- Registro de leads e oportunidades
- Consulta de estoque e pedidos
- Sincroniza√ß√£o de dados

### 9.2 VIAH Omni (Chatwoot)
- Encaminhamento para atendimento humano
- Hist√≥rico centralizado
- Gest√£o de conversas

### 9.3 VIAH Conductor (n8n)
- Execu√ß√£o de automa√ß√µes
- Orquestra√ß√£o de fluxos
- Integra√ß√£o com sistemas externos

### 9.4 VIAH Connect
- Conex√£o com canais externos
- Integra√ß√£o com APIs de mercado

---

## üìù 10. NOTAS E OBSERVA√á√ïES

### 10.1 Nomenclatura
- H√° varia√ß√£o entre "AIVAH" e "EVAH" nos documentos
- "AIVAH" parece ser o nome t√©cnico
- "EVAH" parece ser o nome comercial/apresenta√ß√£o
- Pode ter nomes customizados por cliente (ex: BiraBot)

### 10.2 Adaptabilidade
- O EVAH deve ser capaz de se adaptar √† realidade do neg√≥cio do cliente
- Personaliza√ß√£o por segmento e contexto
- Flexibilidade para diferentes casos de uso

### 10.3 Foco no MVP
- Priorizar funcionalidades essenciais
- Garantir estabilidade e confiabilidade
- Focar em casos de uso principais
- Demonstrar valor imediato

---

**√öltima atualiza√ß√£o:** 2025  
**Fonte:** Consolida√ß√£o de m√∫ltiplos arquivos do projeto

